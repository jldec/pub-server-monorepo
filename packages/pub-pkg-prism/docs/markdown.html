<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="robots" content="noindex, nofollow">

<!-- html generated by pub-server from markdown /markdown.md -->

<title>Markdown</title>
<link rel="stylesheet" href="./css/prism.css">
<link rel="stylesheet" href="./css/github-markdown.css">
<link rel="stylesheet" href="./css/pub-theme-doc.css">
<link rel="stylesheet" href="./css/font-awesome.css">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>

<div data-render-layout="main-layout">
<header>
<div id="doctitle"><h1 id="pub-pkg-prism"><a href="./">pub-pkg-prism</a></h1>
</div>
<div id="topmenu"><ul>
<li><a href="https://github.com/jldec/pub-pkg-prism" title="github" target="_blank" rel="noopener"><span class="fa fa-lg fa-fw">&#xf09b;</span></a></li>
</ul>
</div>
</header>

<div id="navicon" onclick=""><p><span class="fa fa-fw fa-lg">&#xf0c9;</span></p>

<nav id="toc">
<ul>
<li><a href="./">README</a></li>
<li><a href="./java">Java</a></li>
<li><a href="./javascript">JavaScript</a></li>
<li><a href="./markdown">Markdown</a></li>
<li><a href="./python">Python</a></li>
</ul>
</nav>
</div>

<div id="main" onclick="">
<div id="content" class="markdown-body">
<div data-render-page="/markdown">
<div data-render-html="/markdown"><h3 id="markdown">Markdown</h3>
<pre><code class="language-markdown"><span class="token title important"><span class="token punctuation">###</span> tl;dr</span>
All text-content lives in <span class="token bold"><span class="token punctuation">**</span><span class="token content">markdown</span><span class="token punctuation">**</span></span> fragments inside <span class="token bold"><span class="token punctuation">**</span><span class="token content">text</span><span class="token punctuation">**</span></span> files in one or more <span class="token bold"><span class="token punctuation">**</span><span class="token content">sources</span><span class="token punctuation">**</span></span>. Fragments in the same file are separated by a delimiter like

<span class="token code keyword">    ---- /page-1 ----</span>

<span class="token bold"><span class="token punctuation">**</span><span class="token content">pub-generator</span><span class="token punctuation">**</span></span> compiles markdown fragments into javascript objects which are rendered to HTML by applying <span class="token bold"><span class="token punctuation">**</span><span class="token content">handlebars templates</span><span class="token punctuation">**</span></span>.


<span class="token title important"><span class="token punctuation">###</span> sources</span>
Sources are directories in your project or inside a theme package. Source directories are scanned, and new files picked up automatically when the source is read.

Handlebars templates live in files in sources just like markdown text. In fact, templates and markdown may live together in the same source file as long as each is clearly identified e.g. (simplified content)


<span class="token code keyword">    ---- /page-1 ----</span>

<span class="token code keyword">    page1 markdown text...</span>

<span class="token code keyword">    ---- /main-layout.hbs ----</span>

<span class="token code keyword">    &lt;html>{{{renderPage}}}&lt;/html></span>



<span class="token title important"><span class="token punctuation">###</span> pages and fragments</span>
There are 2 kinds of markdown content:

<span class="token list punctuation">1.</span> <span class="token bold"><span class="token punctuation">**</span><span class="token content">pages</span><span class="token punctuation">**</span></span> have a "normal" page url or href. e.g. <span class="token code-snippet code keyword">`/pages/about-us`</span>
<span class="token list punctuation">2.</span> <span class="token bold"><span class="token punctuation">**</span><span class="token content">fragments</span><span class="token punctuation">**</span></span> have an href with a fragment #id. e.g. <span class="token code-snippet code keyword">`/blog/2014/year-in-review#conclusions`</span>

The href may be specified in a header at the top of the markdown like the examples above or derived from the source path: E.g. a file <span class="token code-snippet code keyword">`/md/pages/About Us.md`</span> may become <span class="token code-snippet code keyword">`/pages/about-us`</span> assuming <span class="token code-snippet code keyword">`/md`</span> is the source.

Filenames are turned into urls by slugifying i.e. lowercasing and converting non-alphanumeric characters into hyphens.

In addition to having an href, all pages and fragments may acquire additional metadata from their markdown headers. E.g to set a title for the home page, add the following at the top of the index.md file.

<span class="token code keyword">    ---- / ----
    title: Introduction</span>

<span class="token code keyword">    **pub-server** is a lightweight content management tool for publishing on the web</span>


<span class="token title important"><span class="token punctuation">###</span> templates and rendering</span>
pub-server invokes compiled templates to render pages.

Page or fragment objects provide the input "context" for handlebars. E.g. If a template contains <span class="token code-snippet code keyword">`{{title}}`</span>, handlebars will look for a <span class="token code-snippet code keyword">`.title`</span> property on the current page or fragment object and insert the value of that property into the html output.

Template evaluation is performed in a nested manner

<span class="token list punctuation">-</span> The outer layout template will include a helper like <span class="token code-snippet code keyword">`{{{renderPage}}}`</span>
<span class="token list punctuation">-</span> This invokes an inner page template which may render the page markdown using <span class="token code-snippet code keyword">`{{{html}}}`</span> or it may iterate over page-fragments using a block helper like <span class="token code-snippet code keyword">`{{{#eachFragment}}}...{{{/eachFragment}}}`</span>

Templates may be explicitly specified. E.g. to use an outer template called <span class="token code-snippet code keyword">`hero`</span> instead of the default 'main-layout', specify <span class="token code-snippet code keyword">`layout:hero`</span> in the markdown header. Similarly, to use a page layout called <span class="token code-snippet code keyword">`flow`</span>, specify <span class="token code-snippet code keyword">`template:flow`</span> in the markdown header.


<span class="token title important"><span class="token punctuation">###</span> loading</span>
Before rendering (or every time a source is modified) the generator does:

<span class="token list punctuation">-</span> <span class="token italic"><span class="token punctuation">*</span><span class="token content">read</span><span class="token punctuation">*</span></span> text files in order from all (or just the modified) sources
<span class="token list punctuation">-</span> <span class="token italic"><span class="token punctuation">*</span><span class="token content">pre-process</span><span class="token punctuation">*</span></span> each file into one or more fragments
<span class="token list punctuation">-</span> <span class="token italic"><span class="token punctuation">*</span><span class="token content">compile</span><span class="token punctuation">*</span></span> .md fragments into arrays of javascript objects
<span class="token list punctuation">-</span> <span class="token italic"><span class="token punctuation">*</span><span class="token content">compile</span><span class="token punctuation">*</span></span> .hbs fragments into handlebars templates
<span class="token list punctuation">-</span> <span class="token italic"><span class="token punctuation">*</span><span class="token content">emit</span><span class="token punctuation">*</span></span> events which can trigger additional processing by plugins

Page-fragments are automatically attached to pages during compilation. This makes it easy for templates to iterate over the fragments in a page during rendering.
</code></pre>
</div>

</div><!--page-->
</div>
<div id="credit"><p><span class="fa">&#xf004;</span> powered by <a href="https://jldec.github.io/pub-doc/" target="_blank" rel="noopener">pub-server</a> and <a href="https://github.com/jldec/pub-theme-doc" target="_blank" rel="noopener">pub-theme-doc</a></p>
</div>
</div>

</div><!--layout-->

<script>window.pubRef = {"href":"/markdown","relPath":"."};</script>
<script src="./js/jquery-1.12.4.min.js" ></script>
<script src="./pub/pub-ux.js" ></script>
<!-- Copyright (c) 2015-2022 JÃ¼rgen Leschner - github.com/jldec - MIT license -->
</body>
</html>
